<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Barkdayâ„¢ â€¢ Dog â†’ Human Years</title>
  <meta name="description" content="Dog-year birthdays: calculate the next one and get a plan for better care." />

  <!-- Preload assets -->
  <link rel="preload" as="image" href="barkday-logo.png?v=3">
  <link rel="preload" as="image" href="barkday-logo2.png?v=2">
  <link rel="stylesheet" href="style.css?v=4" />

  <!-- Favicon / Browser Icons -->
  <link rel="icon" href="favicon.ico" sizes="16x16 32x32 48x48" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="shortcut icon" href="favicon.ico">

  <!-- App Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="256x256" href="icon-256.png">
  <link rel="icon" type="image/png" sizes="384x384" href="icon-384.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">

  <!-- Maskable Icons (for Android/PWA) -->
  <link rel="icon" type="image/png" sizes="192x192" href="icon-maskable-192.png" purpose="maskable">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-maskable-512.png" purpose="maskable">

  <!-- Apple Touch -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <meta name="apple-mobile-web-app-title" content="Barkdayâ„¢">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111827">
</head>

<body>
  <!-- SPLASH -->
  <div id="splash" class="splash" aria-hidden="true">
    <div class="logoWrap">
      <img id="logoSplash" alt="Barkday logo" src="">
    </div>
  </div>

  <div class="wrap">
    <header>
      <div class="title">
        <img id="logoHeader" class="logoImg" alt="Barkday logo" src="">
        <h1>Barkdayâ„¢</h1>
      </div>
      <button id="themeToggle" class="toggle" type="button" aria-label="Toggle theme">ðŸŒ™ Dark</button>
    </header>

    <p id="heroLine" class="muted hero">
      Letâ€™s find out together what your precious friendâ€™s birthdays are, so we can celebrate every single one.
    </p>

    <section class="card">
      <h2>Dog â†’ Human Years</h2>
      <p class="muted">
        Evidence-based calculator using AVMA/AKC milestones (15/9 rule) with a
        <strong>weight-continuous slope</strong> after year 2.
        Optional UCSD DNA-methylation curve (â‰¥ 1 yr).
        <em>Calculate/Reset only â€” no auto-recalc.</em>
      </p>
      <div class="divider"></div>

      <div class="row">
        <div>
          <label for="dogName">Dog name</label>
          <input id="dogName" type="text" placeholder="e.g., Sebby" />
        </div>
        <div>
          <label for="dob">Birthdate</label>
          <input id="dob" type="date" />
          <div class="muted">Dog age shown under Results.</div>
        </div>
        <div>
          <label for="adultWeight">Expected adult weight (lb)</label>
          <input id="adultWeight" type="range" min="5" max="200" step="5" value="55" />
          <div class="muted">Aging rate uses <em>5-lb steps</em>. <span id="adultWeightVal">55</span> lb</div>
        </div>
        <div>
          <label for="chewer">Chewer level</label>
          <select id="chewer">
            <option>Gentle</option>
            <option selected>Normal</option>
            <option>Power</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Advanced</label>
          <label class="muted"><input id="showEpigenetic" type="checkbox" /> Show science curve (?) (UCSD DNA-methylation, â‰¥ 1 yr)</label>
          <label class="muted"><input id="smoothMilestones" type="checkbox" checked /> Use smooth milestones (blend around 12 & 24 months)</label>
        </div>
        <div>
          <label for="breed">Breed (optional)</label>
          <input id="breed" type="text" placeholder="e.g., Australian Shepherd" />
          <div class="muted">Notes only â€” math stays weight-based.</div>
        </div>
        <div>
          <label for="breedGroup">Breed group</label>
          <select id="breedGroup">
            <option>Working / Herding</option>
            <option>Sporting</option>
            <option>Hound</option>
            <option>Terrier</option>
            <option>Toy</option>
            <option>Non-Sporting</option>
            <option>Guardian</option>
            <option>Companion</option>
            <option>Mixed / Other</option>
          </select>
          <div id="breedExamples" class="muted" style="margin-top:6px"></div>
        </div>
      </div>

      <div class="row" style="margin-top:8px">
        <label class="muted"><input id="ignoreAge" type="checkbox" /> Ignore age filter</label>
        <label class="muted"><input id="ignoreSize" type="checkbox" /> Ignore size filter</label>
        <label class="muted"><input id="ignoreChewer" type="checkbox" /> Ignore chewer filter</label>
      </div>

      <!-- Button Bar mount (Barkday v1) -->
      <div id="btnBarMount" class="btnbar-mount"></div>

      <div id="sizeWarn" class="warn" style="display:none"></div>

      <div class="divider"></div>

      <h2>Results</h2>
      <div class="kpi">
        <div class="pill primary">
          <div class="headline" id="nextHeadline">â€”</div>
          <div class="big" id="nextBday">â€”</div>
          <div class="muted" id="nextBdayDelta"></div>
        </div>
        <div class="pill"><h3>Dog age today</h3><div class="big" id="dogAge">â€”</div></div>
        <div class="pill"><h3>Human-years estimate</h3><div class="big" id="humanYears">â€”</div><div class="muted" id="slopeNote"></div></div>
      </div>
      <p id="profileLine" class="muted" style="margin:8px 0 0">â€”</p>
      <div id="breedNotes" class="muted" style="margin:6px 0 0"></div>

      <div id="epi" class="muted" style="margin-top:10px"></div>

      <div class="divider"></div>

      <h2 id="nextPlanHeading">Next Birthday Plan</h2>
      <div id="nextPlan" class="plan"></div>

      <div class="divider"></div>

      <h2>Gift ideas</h2>
      <button id="loadGifts" class="btn secondary" type="button">Load gift ideas</button>
      <div id="giftMeta" class="muted" style="margin:8px 0"></div>
      <div id="gifts" class="cardlist"></div>
    </section>
  </div>

  <script src="app.js?5" defer></script>
  
  <footer style="margin-top:40px;padding:20px 0;text-align:center;font-size:0.9em;color:var(--text-secondary)">
    <p>Â© 2025 <strong>Barkdayâ„¢</strong>. All Rights Reserved.</p>
    <p>
      <a href="privacy.html">Privacy</a> Â· 
      <a href="terms.html">Terms</a>
    </p>
    <p><em>Sebby (our mascot) and I hope this makes you day just a litle brighter. </em></p>
  </footer>

  <!-- Register PWA service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      // IMPORTANT: capital B matches your repo URL (/Barkday/)
      navigator.serviceWorker.register('/Barkday/service-worker.js');
    }
  </script>

  <!-- Results Modal (Barkday) -->
  <div id="resultsModal" class="bd-modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="resultsModalTitle">
    <div class="bd-backdrop" data-close="true"></div>
    <div class="bd-dialog" role="document" tabindex="-1">
      <button class="bd-close" type="button" aria-label="Close" data-close="true">Ã—</button>
      <header class="bd-header">
        <h2 id="resultsModalTitle">Your Barkday Results</h2>
      </header>
      <div class="bd-body" id="resultsModalBody"></div>
      <footer class="bd-footer">
        <button class="bd-action" type="button" data-close="true">OK</button>
      </footer>
    </div>
  </div>
  <!-- /Results Modal -->
  
<!-- Toast (Round 2) -->
<div id="bdToast" class="bd-toast" role="status" aria-live="polite">
  <span id="bdToastMsg">Results updated.</span>
  <button type="button" class="bd-x" aria-label="Dismiss">Ã—</button>
</div>
<!-- Saved Results Drawer (Round 3) -->
<div id="bdSaved" class="bd-drawer" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="bdSavedTitle">
  <div class="bd-backdrop" data-close="drawer"></div>
  <div class="bd-panel" role="document" tabindex="-1">
    <header>
      <h3 id="bdSavedTitle">Saved Results</h3>
      <button class="bd-close-x" type="button" aria-label="Close" data-close="drawer">Ã—</button>
    </header>
    <div id="bdSavedBody" class="bd-body">
      <!-- cards render here -->
    </div>
    <footer class="bd-footer">
      <button id="bdExport" class="ghost" type="button">Export JSON</button>
      <button id="bdClearAll" class="ghost" type="button">Clear all</button>
      <button id="bdClose" class="btn" type="button" data-close="drawer">Close</button>
    </footer>
  </div>
</div>
<!-- /Saved Results Drawer -->

</body>
</html>
