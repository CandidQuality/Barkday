:root{
  /* Button Bar tokens */
  --gap: .75rem;
  --btn-min-h: 44px;
  --pad: 12px;
  --radius: 12px;

  --btn-primary-bg: #1f6feb;
  --btn-primary-fg: #fff;
  --btn-secondary-bg: #f3f4f6;
  --btn-secondary-fg: #111827;
  --btn-disabled-bg: #e5e7eb;
  --btn-disabled-fg: #9ca3af;
  --bg:#0b0c10; --card:#13151a; --text:#e8ecf1; --muted:#9aa4af; --brand:#4aa3ff; --accent:#6ae3b2; --danger:#ff6b6b; --border:#232734;
  --shadow:0 6px 24px rgba(0,0,0,.35);
}
:root[data-theme="light"]{
  --bg:#f7f8fa; --card:#ffffff; --text:#0f172a; --muted:#475569; --brand:#2563eb; --accent:#059669; --danger:#b91c1c; --border:#e2e8f0;
  --shadow:0 6px 24px rgba(2,6,23,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial}
.wrap{max-width:1100px;margin:0 auto;padding:24px}

header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:8px}
.title{display:flex;gap:12px;align-items:center}
.logoImg{width:48px;height:auto;display:block;filter:drop-shadow(0 2px 4px rgba(0,0,0,.25))}
.toggle{appearance:none;border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 12px;border-radius:12px;cursor:pointer;box-shadow:var(--shadow)}

.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)}
h1{font-size:24px;margin:0}
h2{font-size:18px;margin:0 0 8px}
label{font-weight:600;display:block;margin:14px 0 6px}
input[type="number"], select, input[type="date"], input[type="text"]{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--bg);color:var(--text)}
input[type="range"]{width:100%}
.row{display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap}
.row > div{flex:1 1 240px;min-width:220px}
.muted{color:var(--muted);font-size:14px}
.divider{height:1px;background:var(--border);margin:12px -16px}

.kpi{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:12px}
.pill{border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.05));border-radius:14px;padding:10px 12px}
.pill h3{margin:0 0 6px;font-size:15px;color:var(--muted);font-weight:600}
.big{font-size:24px;font-weight:800}
.headline{font-size:26px;font-weight:900;line-height:1.15;margin:0 0 4px}
/* Limit the primary outline to KPI pills only */
.pill.primary{ outline:2px solid var(--brand); }
.btn{appearance:none;border:1px solid var(--border);background:var(--brand);color:white;padding:10px 14px;border-radius:12px;cursor:pointer}
.btn.secondary{background:transparent;color:var(--text)}

.cardlist{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.gift{border:1px solid var(--border);border-radius:12px;padding:12px}
.gift h4{margin:0 0 6px}
.link{background:none;border:0;color:var(--brand);cursor:pointer;text-decoration:underline;padding:0}
.hero{margin:4px 0 0 60px}

/* Adjust hero spacing on small screens */
@media (max-width:600px){
  .hero{ margin:8px 0 0 0 }
}

.warn{background:rgba(255,107,107,.1);border:1px solid var(--danger);color:var(--danger);padding:8px 10px;border-radius:10px;margin:8px 0}

/* Plan lanes */
.plan{margin-top:12px}
.lane{border:1px solid var(--border);border-radius:12px;padding:12px;margin:8px 0;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.04))}
.lane h4{margin:0 0 6px;font-size:15px;color:var(--muted)}
.lane ul{margin:0;padding-left:18px}
.lane li{margin:4px 0}

/* Splash */
.splash{
  position:fixed; inset:0; display:grid; place-items:center;
  background:radial-gradient(1000px 500px at 20% 10%, rgba(255,255,255,.06), transparent),
             radial-gradient(1000px 500px at 80% 90%, rgba(255,255,255,.05), transparent),
             var(--bg);
  z-index:9999; transition:opacity .5s ease; opacity:1;
}
.splash.hide{ opacity:0; pointer-events:none }
.splash .logoWrap{ display:grid; place-items:center; border-radius:20px; filter:drop-shadow(0 6px 16px rgba(0,0,0,.45)); }

/* Support both class and id for the splash container */
#splash,
.splash {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  /* keep your existing gradient/background via the class rule */
  padding: env(safe-area-inset-top) env(safe-area-inset-right)
           env(safe-area-inset-bottom) env(safe-area-inset-left);
  z-index: 9999;
}

#splash.hide,
.splash.hide {
  opacity: 0;
  pointer-events: none;
}

/* Constrain the logo robustly on all devices */
#splash .logoWrap img,
.splash .logoWrap img {
  width: auto;
  height: auto;
  max-width: clamp(160px, 60vw, 420px);
  max-height: 60vh;
  object-fit: contain;
  image-rendering: auto;
}

/* Make the logo a bit smaller on very short screens (e.g., landscape phones) */
@media (max-height: 540px) {
  #splash .logoWrap img,
  .splash .logoWrap img {
    max-width: clamp(140px, 50vw, 360px);
    max-height: 50vh;
  }
}

/* Respect reduced-motion preferences (optional) */
@media (prefers-reduced-motion: reduce) {
  #splash,
  .splash {
    transition: none !important;
  }
}
/* === Barkday Button Bar v1 === */
.btnbar-mount{ margin-top:12px }

.btn-bar{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:var(--gap);
  align-items:stretch;
}

.btn-bar button{
  min-height:var(--btn-min-h);
  padding:var(--pad);
  border-radius:var(--radius);
  border:1px solid var(--border);
  font-weight:600;
  cursor:pointer;
  box-shadow:var(--shadow);
  transition:transform .02s ease, opacity .15s ease;
}

.btn-bar button:active{ transform:translateY(1px) }

.btn-bar button.primary{
  background:var(--btn-primary-bg);
  color:var(--btn-primary-fg);
  border-color:#1c62d4;
}

.btn-bar button.secondary{
  background:var(--btn-secondary-bg);
  color:var(--btn-secondary-fg);
}

/* Disabled state for bar buttons only */
.btn-bar button:disabled{
  background:var(--btn-disabled-bg) !important;
  color:var(--btn-disabled-fg) !important;
  cursor:not-allowed;
  opacity:.85;
  box-shadow:none;
}

/* Stack vertically on phones */
@media (max-width:480px){
  .btn-bar{ grid-template-columns:1fr }
}

/* Optional: self-test panel styling */
.selftest{
  margin-top:1rem;
  padding:1rem;
  border:1px dashed #d1d5db;
  border-radius:10px;
  background:#fafafa;
}
.selftest h4{ margin:0 0 .5rem 0 }
.selftest .row{ display:flex; align-items:center; gap:.5rem; margin:.25rem 0 }
.selftest .ok{ color:#065f46; font-weight:700 }
.selftest .fail{ color:#991b1b; font-weight:700 }

/* Optional: Improve accessibility for any disabled button */
button[disabled], .btn[disabled]{
  cursor:not-allowed;
  opacity:.7;
}

/* Phones: stack, breathe, and avoid crowding */
@media (max-width: 600px){
  .wrap{ padding:16px }                    /* a bit less padding than 24px */
  header{ gap:12px; margin-bottom:4px }
  .logoImg{ width:40px }                   /* smaller header logo on phones */

  .row{ gap:10px }                         /* slightly tighter grid gaps */
  .row > div{ flex:1 1 100%; min-width:0 } /* force single-column inputs */
  .card{ padding:14px; border-radius:14px }
  .divider{ margin:10px -14px }

  .kpi{ gap:10px }                         /* KPI tiles pack nicer */
  .pill{ padding:10px }
  .headline{ font-size:24px }              /* a touch smaller to avoid wraps */

  .cardlist{ grid-template-columns:1fr }   /* gifts/cards one-per-row */
  .btnbar-mount{ margin-top:10px }
  .btn-bar{ grid-template-columns:1fr }    /* button bar single column */
  .btn-bar button{ min-height:48px }       /* comfy tap target */
}

@media (max-width: 360px){
  .wrap{ padding:12px }
  h1{ font-size:22px }
  h2{ font-size:17px }
  .big{ font-size:22px }
  .btn-bar button{ padding:10px }          /* prevent text wrapping on buttons */
}

/* Touch polish */
button, .btn, .btn-bar button, input, select {
  -webkit-tap-highlight-color: transparent;
}

/* Visible, consistent focus states (keyboard/switch users) */
:focus-visible{
  outline:2px solid var(--brand);
  outline-offset:2px;
  border-radius:8px;
}

@supports (padding: max(0px)) {
  body{
    padding-left:  max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
  }
}

html, body{ overflow-x:hidden }
.card, .kpi, .cardlist{ min-width:0 }

/* Tablets: two-up cards look better than single column */
@media (min-width: 601px) and (max-width: 900px){
  .cardlist{ grid-template-columns:repeat(2, minmax(0,1fr)) }
}


